(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var e,h=this||self;function aa(){}function ba(a){var b=typeof a;b="object"!=b?b:a?Array.isArray(a)?"array":b:"null";return"array"==b||"object"==b&&"number"==typeof a.length}function k(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ca(a){return Object.prototype.hasOwnProperty.call(a,da)&&a[da]||(a[da]=++ea)}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function fa(a,b,c){return a.call.apply(a.bind,arguments)}
function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,d);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function m(a,b,c){m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ha;return m.apply(null,arguments)}
function ia(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}function p(a,b){a=a.split(".");var c=h;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b}
function q(a,b){function c(){}c.prototype=b.prototype;a.U=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.B=function(d,f,g){for(var l=Array(arguments.length-2),n=2;n<arguments.length;n++)l[n-2]=arguments[n];b.prototype[f].apply(d,l)}};function r(){0!=ja&&(ka[ca(this)]=this);this.s=this.s;this.h=this.h}var ja=0,ka={};e=r.prototype;e.s=!1;e.ma=function(){return this.s};e.C=function(){if(!this.s&&(this.s=!0,this.v(),0!=ja)){var a=ca(this);if(0!=ja&&this.h&&0<this.h.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ka[a]}};
e.M=function(a,b){this.s?void 0!==b?a.call(b):a():(this.h||(this.h=[]),this.h.push(void 0!==b?m(a,b):a))};e.v=function(){if(this.h)for(;this.h.length;)this.h.shift()()};function t(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{const c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));b&&(this.cause=b)}q(t,Error);t.prototype.name="CustomError";function la(a,b){a=a.split("%s");for(var c="",d=a.length-1,f=0;f<d;f++)c+=a[f]+(f<b.length?b[f]:"%s");t.call(this,c+a[d])}q(la,t);la.prototype.name="AssertionError";function ma(a,b){throw new la("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function na(a,b,c){Array.prototype.forEach.call(a,b,c)}function oa(a,b){return Array.prototype.map.call(a,b,void 0)}function pa(a){return Array.prototype.concat.apply([],arguments)}function qa(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]}function ra(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function sa(a,b){return a>b?1:a<b?-1:0};var u="StopIteration"in h?h.StopIteration:{message:"StopIteration",stack:""};function v(){}v.prototype.next=function(){return v.prototype.g.call(this)};v.prototype.g=function(){throw u;};v.prototype.H=function(){return this};function ta(a){if(a instanceof v)return a;if("function"==typeof a.H)return a.H(!1);if(ba(a)){var b=0,c=new v;c.g=function(){for(;;){if(b>=a.length)throw u;if(b in a)return a[b++];b++}};c.next=c.g.bind(c);return c}throw Error("Not implemented");}
function ua(a,b){if(ba(a))try{na(a,b)}catch(c){if(c!==u)throw c;}else{a=ta(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==u)throw c;}}}function va(a,b){var c=ta(a);a=new v;a.g=function(){var d=c.next();return b.call(void 0,d,void 0,c)};a.next=a.g.bind(a);return a}function wa(a){if(ba(a))return qa(a);a=ta(a);var b=[];ua(a,function(c){b.push(c)});return b}function xa(){var a=0,b=new v;b.g=function(){var c=a;a+=1;return c};b.next=b.g.bind(b);return b};function ya(a){const b=[];za(new Aa,a,b);return b.join("")}function Aa(){}
function za(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var d=b;b=d.length;c.push("[");var f="";for(var g=0;g<b;g++)c.push(f),za(a,d[g],c),f=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(g=b[d],"function"!=typeof g&&(c.push(f),Ba(d,c),c.push(":"),za(a,g,c),f=","));c.push("}");return}}switch(typeof b){case "string":Ba(b,c);break;
case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var Ca={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Da=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
function Ba(a,b){b.push('"',a.replace(Da,function(c){let d=Ca[c];d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Ca[c]=d);return d}),'"')};function Ea(a,b){for(const c in a)b.call(void 0,a[c],c,a)}function Fa(a){let b=0;for(const c in a)b++;return b};(class{constructor(a,b){this.g=b===Ga?a:""}}).prototype.toString=function(){return this.g.toString()};var Ga={};var Ha;a:{var Ia=h.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break a}}Ha=""};var Ka=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};/*

 Copyright 2016 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function La(a,b){if("undefined"!==typeof Document&&a instanceof Document)return"<Document>";if("undefined"!==typeof Window&&a instanceof Window)return"<Window>";if("undefined"!==typeof NodeList&&a instanceof NodeList)return"<NodeList>";if("undefined"!==typeof HTMLCollection&&a instanceof HTMLCollection)return"<HTMLCollection>";if("undefined"!==typeof Node&&a instanceof Node)return"<Node>";if(a instanceof r)return"<Class>";if(h.chrome&&a===h.chrome)return"<chrome>";if(void 0===a)return"undefined";
if(null===a)return"null";switch(typeof a){case "boolean":return a?"true":"false";case "number":return Ma(a);case "string":return'"'+a+'"'}if("function"===typeof a)return"<Function>";if(a instanceof ArrayBuffer)return`ArrayBuffer[${Na(new Uint8Array(a))}]`;if(ArrayBuffer.isView(a))return a instanceof DataView?`DataView[${Na(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))}]`:Oa(a);if(!k(a))return ya(a)||"null";if(b.has(a))return"<circular>";b.add(a);var c;Array.isArray(a)?c="["+Pa(a,b)+"]":c=a instanceof
Map?"Map{"+Qa(Array.from(a.entries()),b)+"}":a instanceof Set?"Set{"+Pa(Array.from(a),b)+"}":k(a)?Ra(a,b):ya(a)||"null";b.delete(a);return c}function Ra(a,b){const c=[];Ea(a,function(d,f){c.push([f,d])});return"{"+Qa(c,b)+"}"}function Oa(a){const b=a.constructor.name;a instanceof Uint8Array?a=Na(a):(a=va(a,c=>Ma(c)),a=wa(a).join(", "));return`${b}[${a}]`}function Na(a){if(!a.length)return"";a=va(a,b=>{b=b.toString(16).toUpperCase();return Ka("0",2-b.length)+b});return`0x${wa(a).join("")}`}
function Ma(a){if(!isFinite(a))return a.toString();if(!isFinite(a)||0!=a%1)return ya(a)||"null";const b=Sa(a);if(!b)return ya(a)||"null";0>a&&(a+=Math.pow(2,b));a=a.toString(16).toUpperCase();return"0x"+Ka("0",b/4-a.length)+a}function Qa(a,b){a=oa(a,function(c){return La(c[0],b)+": "+La(c[1],b)});return wa(a).join(", ")}function Pa(a,b){a=va(a,c=>La(c,b));return wa(a).join(", ")}
function Sa(a){let b=null;na([8,32,64],function(c){const d=Math.pow(2,c);-Math.pow(2,c-1)<=a&&a<d&&null===b&&(b=c)});return b}function x(){return"<stripped value>"};function Ta(a,b){var c=Ua;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};function y(a,b){this.h=b;for(var c=[],d=!0,f=a.length-1;0<=f;f--){var g=a[f]|0;d&&g==b||(c[f]=g,d=!1)}this.g=c}var Ua={};function Va(a){return-128<=a&&128>a?Ta(a,function(b){return new y([b|0],0>b?-1:0)}):new y([a|0],0>a?-1:0)}function Wa(a){if(isNaN(a)||!isFinite(a))return Xa;if(0>a)return z(Wa(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=Ya;return new y(b,0)}var Ya=4294967296,Xa=Va(0),Za=Va(1),$a=Va(16777216);function ab(a){return 0<a.g.length?a.g[0]:a.h}
function bb(a){if(A(a))return-bb(z(a));for(var b=0,c=1,d=0;d<a.g.length;d++){var f=B(a,d);b+=(0<=f?f:Ya+f)*c;c*=Ya}return b}e=y.prototype;e.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(C(this))return"0";if(A(this))return"-"+z(this).toString(a);for(var b=Wa(Math.pow(a,6)),c=this,d="";;){var f=cb(c,b).g,g=(ab(db(c,E(f,b)))>>>0).toString(a);c=f;if(C(c))return g+d;for(;6>g.length;)g="0"+g;d=g+d}};function B(a,b){return 0>b?0:b<a.g.length?a.g[b]:a.h}
function C(a){if(0!=a.h)return!1;for(var b=0;b<a.g.length;b++)if(0!=a.g[b])return!1;return!0}function A(a){return-1==a.h}function eb(a,b){a=db(a,b);return A(a)?-1:C(a)?0:1}function z(a){for(var b=a.g.length,c=[],d=0;d<b;d++)c[d]=~a.g[d];return(new y(c,~a.h)).add(Za)}e.abs=function(){return A(this)?z(this):this};
e.add=function(a){for(var b=Math.max(this.g.length,a.g.length),c=[],d=0,f=0;f<=b;f++){var g=d+(B(this,f)&65535)+(B(a,f)&65535),l=(g>>>16)+(B(this,f)>>>16)+(B(a,f)>>>16);d=l>>>16;g&=65535;l&=65535;c[f]=l<<16|g}return new y(c,c[c.length-1]&-2147483648?-1:0)};function db(a,b){return a.add(z(b))}
function E(a,b){if(C(a)||C(b))return Xa;if(A(a))return A(b)?E(z(a),z(b)):z(E(z(a),b));if(A(b))return z(E(a,z(b)));if(0>eb(a,$a)&&0>eb(b,$a))return Wa(bb(a)*bb(b));for(var c=a.g.length+b.g.length,d=[],f=0;f<2*c;f++)d[f]=0;for(f=0;f<a.g.length;f++)for(var g=0;g<b.g.length;g++){var l=B(a,f)>>>16,n=B(a,f)&65535,w=B(b,g)>>>16,D=B(b,g)&65535;d[2*f+2*g]+=n*D;fb(d,2*f+2*g);d[2*f+2*g+1]+=l*D;fb(d,2*f+2*g+1);d[2*f+2*g+1]+=n*w;fb(d,2*f+2*g+1);d[2*f+2*g+2]+=l*w;fb(d,2*f+2*g+2)}for(f=0;f<c;f++)d[f]=d[2*f+1]<<
16|d[2*f];for(f=c;f<2*c;f++)d[f]=0;return new y(d,0)}function fb(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}function gb(a,b){this.g=a;this.h=b}
function cb(a,b){if(C(b))throw Error("division by zero");if(C(a))return new gb(Xa,Xa);if(A(a))return b=cb(z(a),b),new gb(z(b.g),z(b.h));if(A(b))return b=cb(a,z(b)),new gb(z(b.g),b.h);if(30<a.g.length){if(A(a)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var c=Za,d=b;0>=eb(d,a);)c=hb(c),d=hb(d);var f=ib(c,1),g=ib(d,1);d=ib(d,2);for(c=ib(c,2);!C(d);){var l=g.add(d);0>=eb(l,a)&&(f=f.add(c),g=l);d=ib(d,1);c=ib(c,1)}b=db(a,E(f,b));return new gb(f,b)}for(f=Xa;0<=eb(a,b);){c=Math.max(1,
Math.floor(bb(a)/bb(b)));d=Math.ceil(Math.log(c)/Math.LN2);d=48>=d?1:Math.pow(2,d-48);g=Wa(c);for(l=E(g,b);A(l)||0<eb(l,a);)c-=d,g=Wa(c),l=E(g,b);C(g)&&(g=Za);f=f.add(g);a=db(a,l)}return new gb(f,a)}e.and=function(a){for(var b=Math.max(this.g.length,a.g.length),c=[],d=0;d<b;d++)c[d]=B(this,d)&B(a,d);return new y(c,this.h&a.h)};e.or=function(a){for(var b=Math.max(this.g.length,a.g.length),c=[],d=0;d<b;d++)c[d]=B(this,d)|B(a,d);return new y(c,this.h|a.h)};
e.xor=function(a){for(var b=Math.max(this.g.length,a.g.length),c=[],d=0;d<b;d++)c[d]=B(this,d)^B(a,d);return new y(c,this.h^a.h)};function hb(a){for(var b=a.g.length+1,c=[],d=0;d<b;d++)c[d]=B(a,d)<<1|B(a,d-1)>>>31;return new y(c,a.h)}function ib(a,b){var c=b>>5;b%=32;for(var d=a.g.length-c,f=[],g=0;g<d;g++)f[g]=0<b?B(a,g+c)>>>b|B(a,g+c+1)<<32-b:B(a,g+c);return new y(f,a.h)};function F(a){return ab(Wa(a))};class jb{constructor(a,b){this.g=a[h.Symbol.iterator]();this.h=b;this.i=0}[Symbol.iterator](){return this}next(){const a=this.g.next();return{value:a.done?void 0:this.h.call(void 0,a.value,this.i++),done:a.done}}}function kb(a,b){return new jb(a,b)};function lb(a){if(a instanceof mb||a instanceof nb||a instanceof ob)return a;if("function"==typeof a.next)return new mb(()=>pb(a));if("function"==typeof a[Symbol.iterator])return new mb(()=>a[Symbol.iterator]());if("function"==typeof a.H)return new mb(()=>pb(a.H()));throw Error("Not an iterator or iterable.");}const pb=a=>{if(!(a instanceof v))return a;let b=!1;return{next(){let c;for(;!b;)try{c=a.next();break}catch(d){if(d!==u)throw d;b=!0}return{value:c,done:b}}}};
class mb{constructor(a){this.g=a}H(){return new nb(this.g())}[Symbol.iterator](){return new ob(this.g())}i(){return new ob(this.g())}}class nb extends v{constructor(a){super();this.h=a}g(){const a=this.h.next();if(a.done)throw u;return a.value}next(){return nb.prototype.g.call(this)}[Symbol.iterator](){return new ob(this.h)}i(){return new ob(this.h)}}class ob extends mb{constructor(a){super(()=>a);this.h=a}next(){return this.h.next()}};function qb(a,b){this.h={};this.g=[];this.i=this.size=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof qb)for(c=a.K(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])}e=qb.prototype;e.J=function(){rb(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.h[this.g[b]]);return a};e.K=function(){rb(this);return this.g.concat()};
e.has=function(a){return sb(this.h,a)};e.clear=function(){this.h={};this.i=this.size=this.g.length=0};e.remove=function(a){sb(this.h,a)?(delete this.h[a],--this.size,this.i++,this.g.length>2*this.size&&rb(this),a=!0):a=!1;return a};function rb(a){if(a.size!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];sb(a.h,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.size!=a.g.length){var f={};for(c=b=0;b<a.g.length;)d=a.g[b],sb(f,d)||(a.g[c++]=d,f[d]=1),b++;a.g.length=c}}
e.get=function(a,b){return sb(this.h,a)?this.h[a]:b};e.set=function(a,b){sb(this.h,a)||(this.size+=1,this.g.push(a),this.i++);this.h[a]=b};e.forEach=function(a,b){for(var c=this.K(),d=0;d<c.length;d++){var f=c[d],g=this.get(f);a.call(b,g,f,this)}};e.keys=function(){return lb(this.H(!0)).i()};e.values=function(){return lb(this.H(!1)).i()};e.entries=function(){const a=this;return kb(this.keys(),function(b){return[b,a.get(b)]})};
e.H=function(a){rb(this);var b=0,c=this.i,d=this,f=new v;f.g=function(){if(c!=d.i)throw Error("The map has changed since the iterator was created");if(b>=d.g.length)throw u;var g=d.g[b++];return a?g:d.h[g]};f.next=f.g.bind(f);return f};function sb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var tb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ub(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),f=null;if(0<=d){var g=a[c].substring(0,d);f=a[c].substring(d+1)}else g=a[c];b(g,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}};function vb(a){this.j=this.u=this.i="";this.m=null;this.o=this.h="";this.g=!1;if(a instanceof vb){this.g=a.g;wb(this,a.i);this.u=a.u;this.j=a.j;xb(this,a.m);this.h=a.h;var b=a.l;var c=new yb;c.i=b.i;b.g&&(c.g=new qb(b.g),c.h=b.h);zb(this,c);this.o=a.o}else a&&(b=String(a).match(tb))?(this.g=!1,wb(this,b[1]||"",!0),this.u=Ab(b[2]||""),this.j=Ab(b[3]||"",!0),xb(this,b[4]),this.h=Ab(b[5]||"",!0),zb(this,b[6]||"",!0),this.o=Ab(b[7]||"")):(this.g=!1,this.l=new yb(null,this.g))}
vb.prototype.toString=function(){var a=[],b=this.i;b&&a.push(Bb(b,Cb,!0),":");var c=this.j;if(c||"file"==b)a.push("//"),(b=this.u)&&a.push(Bb(b,Cb,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.m,null!=c&&a.push(":",String(c));if(c=this.h)this.j&&"/"!=c.charAt(0)&&a.push("/"),a.push(Bb(c,"/"==c.charAt(0)?Db:Eb,!0));(c=this.l.toString())&&a.push("?",c);(c=this.o)&&a.push("#",Bb(c,Fb));return a.join("")};
function wb(a,b,c){a.i=c?Ab(b,!0):b;a.i&&(a.i=a.i.replace(/:$/,""))}function xb(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.m=b}else a.m=null}function zb(a,b,c){b instanceof yb?(a.l=b,Gb(a.l,a.g)):(c||(b=Bb(b,Hb)),a.l=new yb(b,a.g))}function Ab(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Bb(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,Ib),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function Ib(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Cb=/[#\/\?@]/g,Eb=/[#\?:]/g,Db=/[#\?]/g,Hb=/[#\?@]/g,Fb=/#/g;function yb(a,b){this.h=this.g=null;this.i=a||null;this.j=!!b}function G(a){a.g||(a.g=new qb,a.h=0,a.i&&ub(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}e=yb.prototype;e.add=function(a,b){G(this);this.i=null;a=Jb(this,a);var c=this.g.get(a);c||this.g.set(a,c=[]);c.push(b);this.h+=1;return this};
e.remove=function(a){G(this);a=Jb(this,a);return this.g.has(a)?(this.i=null,this.h-=this.g.get(a).length,this.g.remove(a)):!1};e.clear=function(){this.g=this.i=null;this.h=0};function Kb(a,b){G(a);b=Jb(a,b);return a.g.has(b)}e.forEach=function(a,b){G(this);this.g.forEach(function(c,d){na(c,function(f){a.call(b,f,d,this)},this)},this)};e.K=function(){G(this);for(var a=this.g.J(),b=this.g.K(),c=[],d=0;d<b.length;d++)for(var f=a[d],g=0;g<f.length;g++)c.push(b[d]);return c};
e.J=function(a){G(this);var b=[];if("string"===typeof a)Kb(this,a)&&(b=pa(b,this.g.get(Jb(this,a))));else{a=this.g.J();for(var c=0;c<a.length;c++)b=pa(b,a[c])}return b};e.set=function(a,b){G(this);this.i=null;a=Jb(this,a);Kb(this,a)&&(this.h-=this.g.get(a).length);this.g.set(a,[b]);this.h+=1;return this};e.get=function(a,b){if(!a)return b;a=this.J(a);return 0<a.length?String(a[0]):b};
e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],b=this.g.K(),c=0;c<b.length;c++){var d=b[c],f=encodeURIComponent(String(d));d=this.J(d);for(var g=0;g<d.length;g++){var l=f;""!==d[g]&&(l+="="+encodeURIComponent(String(d[g])));a.push(l)}}return this.i=a.join("&")};function Jb(a,b){b=String(b);a.j&&(b=b.toLowerCase());return b}
function Gb(a,b){b&&!a.j&&(G(a),a.i=null,a.g.forEach(function(c,d){var f=d.toLowerCase();d!=f&&(this.remove(d),this.remove(f),0<c.length&&(this.i=null,this.g.set(Jb(this,f),qa(c)),this.h+=c.length))},a));a.j=b};function Lb(){this.g=Date.now()}var Mb=null;Lb.prototype.set=function(a){this.g=a};Lb.prototype.reset=function(){this.set(Date.now())};Lb.prototype.get=function(){return this.g};var H=class{constructor(a,b){this.name=a;this.value=b}toString(){return this.name}},I=new H("OFF",Infinity),Nb=new H("SHOUT",1200),Ob=new H("SEVERE",1E3),Pb=new H("WARNING",900),Qb=new H("INFO",800),Rb=new H("CONFIG",700),Sb=new H("FINE",500),Tb=new H("FINER",400),J=new H("FINEST",300),Ub=new H("ALL",0),Vb=[I,Nb,Ob,Pb,Qb,Rb,Sb,Tb,J,Ub],K=null;function Xb(){K={};for(let a=0,b;b=Vb[a];a++)K[b.value]=b,K[b.name]=b}function Yb(a){K||Xb();return K[a]||null}
var Zb=class{g(){}},$b=class{constructor(){this.clear()}clear(){}},ac,L=class{constructor(a,b,c,d,f){this.j=null;this.reset(a||I,b,c,d,f)}reset(a,b,c,d,f){this.i=d||Date.now();this.h=a;this.o=b;this.g=c;this.j=null;this.l="number"===typeof f?f:bc}G(){return this.g}P(a){this.g=a}u(){return this.j}m(a){this.j=a}D(){return this.h}L(a){this.h=a}getMessage(){return this.o}R(a){this.o=a}F(){return this.i}S(a){this.i=a}I(){return this.l}},bc=0;
function cc(a){if(a.g)return a.g;if(a.i)return cc(a.i);ma("Root logger has no level set.");return I}var dc=class{constructor(a,b=null){this.g=null;this.h=[];this.i=b||null;this.l=[];this.j={g:()=>a}}publish(a){let b=this;for(;b;)b.h.forEach(c=>{c(a)}),b=b.i}};function M(a,b,c){var d=a.entries[b];if(d)return void 0!==c&&(d.g=c),d;d=M(a,b.substr(0,b.lastIndexOf(".")));const f=new dc(b,d);a.entries[b]=f;d.l.push(f);void 0!==c&&(f.g=c);return f}
var ec=class{constructor(){this.entries={};const a=new dc("");a.g=Rb;this.entries[""]=a}},fc;function N(){fc||=new ec;return fc}function gc(a,b){return M(N(),a,b).j}function hc(a,b){a&&M(N(),a.g()).h.push(b)}function ic(a,b){return a&&(a=M(N(),a.g()),b=a.h.indexOf(b),-1!==b)?(a.h.splice(b,1),!0):!1}function jc(a,b){a&&(M(N(),a.g()).g=b)}function kc(a){return a?cc(M(N(),a.g())):I}function lc(a,b){return a&&b?b.value>=kc(a).value:!1}
function O(a,b,c,d){if(a&&lc(a,b)){b=b||I;const f=M(N(),a.g());"function"===typeof c&&(c=c());ac||=new $b;a=new L(b,c,a.g());d&&a.m(d);f.publish(a)}}function mc(a,b,c){a&&O(a,Ob,b,c)}function P(a,b,c){a&&O(a,Pb,b,c)}function nc(a,b,c){a&&O(a,Qb,b,c)}function Q(a,b,c){a&&O(a,Sb,b,c)};function oc(a){this.g=a||"";Mb||=new Lb;this.h=Mb}e=oc.prototype;e.V=!0;e.N=!0;e.O=!0;e.$=!1;e.T=!1;function pc(a){return 10>a?"0"+a:String(a)}function qc(a){oc.call(this,a)}q(qc,oc);
function rc(a,b){var c=[];c.push(a.g," ");if(a.N){var d=new Date(b.i);c.push("[",pc(d.getFullYear()-2E3)+pc(d.getMonth()+1)+pc(d.getDate())+" "+pc(d.getHours())+":"+pc(d.getMinutes())+":"+pc(d.getSeconds())+"."+pc(Math.floor(d.getMilliseconds()/10)),"] ")}if(a.O){d=c.push;var f=a.h.get();f=(b.i-f)/1E3;var g=f.toFixed(3),l=0;if(1>f)l=2;else for(;100>f;)l++,f*=10;for(;0<l--;)g=" "+g;d.call(c,"[",g,"s] ")}c.push("[",b.g,"] ");a.T&&c.push("[",b.h.name,"] ");c.push(b.getMessage());a.$&&(b=b.j)&&c.push("\n",
b instanceof Error?b.message:b.toString());a.V&&c.push("\n");return c.join("")};/*

 Copyright 2020 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function sc(a,b){var c=[];a:{let d;try{d=new vb(a)}catch(f){a=`<${a}>`;break a}a="/_generated_background_page.html"==d.h?"":`<${d.h}>`}a&&c.push(a);b.g&&c.push(b.g);c=c.join(".");return new L(b.h,b.getMessage(),c,b.i,b.l)}var tc=new qc;tc.N=!0;tc.O=!1;tc.T=!0;var uc=new qc;uc.N=!1;uc.O=!1;uc.T=!0;function vc(a){this.h=0;this.i=a||100;this.g=[]}e=vc.prototype;e.add=function(a){const b=this.g[this.h];this.g[this.h]=a;this.h=(this.h+1)%this.i;return b};e.get=function(a){a=wc(this,a);return this.g[a]};e.set=function(a,b){a=wc(this,a);this.g[a]=b};e.clear=function(){this.h=this.g.length=0};e.J=function(){const a=this.g.length;var b=this.g.length-this.g.length;const c=[];for(;b<a;b++)c.push(this.get(b));return c};e.K=function(){const a=[],b=this.g.length;for(let c=0;c<b;c++)a[c]=c;return a};
function wc(a,b){if(b>=a.g.length)throw Error("Out of bounds exception");return a.g.length<a.i?b:(a.h+Number(b))%a.i};var xc=class{constructor(a,b,c,d){this.logCount=a;this.formattedLogsPrefix=b;this.skippedLogCount=c;this.formattedLogsSuffix=d}},R=class extends r{constructor(a){super();this.G=a;this.l=0;this.u=Math.trunc(a/2);this.g=[];this.D=[];this.i=new vc(a-this.u)}v(){this.g.length=0;this.D.length=0;this.i.clear();super.v()}F(){return this.G}m(){return new xc(this.l,qa(this.g),this.l-this.g.length-this.i.g.length,this.i.J())}j(a,b,c,d,f,g){if(!this.s){b=new L(b,c,d,f,g);for(const l of this.D)l(a,b);a=rc(tc,
sc(a,b));this.o(a)}}o(a){this.s||(this.g.length<this.u?this.g.push(a):this.i.add(a),++this.l)}};function yc(a,b,c){hc(b,d=>{a.j(c,d.h,d.getMessage(),d.g,d.i,d.l)})}R.State=xc;p("GoogleSmartCard.LogBuffer",R);R.attachBufferToLogger=yc;R.prototype.getCapacity=R.prototype.F;R.prototype.getState=R.prototype.m;R.prototype.addLogRecord=R.prototype.j;R.prototype.addFormattedLogRecord_=R.prototype.o;/*

 Copyright 2023 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function zc(){var a=chrome.storage.local,b=chrome.storage.local.get,c=[Ac];return new Promise((d,f)=>{b.call(a,...c,function(g){chrome&&chrome.runtime&&chrome.runtime.lastError?(g=chrome.runtime.lastError,f(null!==g&&"message"in g?g.message:"Unknown error")):d(g)})})};function Bc(a){const b=Date.now(),c=b-Cc;let d=a.filter(g=>c<=g&&g<=b);d.length>=Dc&&(d=d.slice(-Dc+1));d.push(b);if(!chrome||!chrome.storage||!chrome.storage.local)return Promise.resolve(d);const f={};f[Ac]=d;return new Promise(g=>{chrome.storage.local.set(f,function(){g(d)})})}async function Ec(){if(!chrome||!chrome.storage||!chrome.storage.local)return Promise.resolve([]);let a;try{a=await zc()}catch(b){return[]}return Array.isArray(a[Ac])?a[Ac].filter(b=>Number.isInteger(b)):[]}
var Ac="crash_timestamps",Cc=6E4,Dc=3,Fc=!1;function Gc(){if(Fc)return Promise.reject(Error("Already crashing"));Fc=!0;return Ec().then(a=>Bc(a)).then(a=>Promise.resolve(a.length>=Dc))};function Hc(){this.l=m(this.i,this);this.g=new qc;this.g.N=!1;this.g.$=!1;this.h=this.g.V=!1;this.j={}}Hc.prototype.i=function(a){function b(g){if(g){if(g.value>=Ob.value)return"error";if(g.value>=Pb.value)return"warn";if(g.value>=Rb.value)return"log"}return"debug"}if(!this.j[a.g]){var c=rc(this.g,a),d=Ic;if(d){var f=b(a.h);Jc(d,f,c,a.j)}}};var Ic=h.console;function Jc(a,b,c,d){if(a[b])a[b](c,d||"");else a.log(c,d||"")};function Kc(){chrome&&chrome.runtime&&chrome.runtime.onConnect&&chrome.runtime.onConnect.addListener(a=>{if(a.name===Lc){var b=Mc.m();for(const c of b.formattedLogsPrefix)a.postMessage(c);0<b.skippedLogCount&&a.postMessage(`... skipped ${b.skippedLogCount} messages ...\n`);for(const c of b.formattedLogsSuffix)a.postMessage(c);a.disconnect()}})}
function Nc(){chrome&&chrome.runtime&&chrome.runtime.onConnect&&chrome.runtime.onConnect.addListener(a=>{a.name===Oc&&a.onMessage.addListener(b=>{var c=b.document_location;b=new L(Yb(b.level),b.message,b.logger,b.time,b.sequence_number);Mc.j(c,b.h,b.getMessage(),b.g,b.i,b.l);Pc(c,b)})})}
function Qc(){if(chrome&&chrome.runtime&&chrome.runtime.connect){var a=chrome.runtime.connect({name:Oc});hc(Rc,b=>{b={document_location:Sc(),level:b.h.name,message:b.getMessage(),logger:b.g,time:b.i,sequence_number:b.l};a.postMessage(b)})}}function Sc(){return"undefined"===typeof document?self.location.href:document.location.href}function Pc(a,b){const c=chrome.systemLog;c&&(a=rc(uc,sc(a,b)),c.add({message:a}))}function Tc(){const a=Sc();hc(Rc,b=>{Pc(a,b)})}
function Uc(){Vc&&Gc().then(function(a){a?nc(Rc,"Crash loop detected. The application is defunct, but the execution state is kept in order to retain the failure logs."):(nc(Rc,"Reloading the application due to the fatal error..."),chrome.runtime.reload(),chrome.runtime.restart())}).catch(function(){})}var Oc="logs",Lc="logs_export",Rc=gc(""),Wc=gc("GoogleSmartCard"),Xc=!1,Mc=new R(2E3),Vc=!1;p("GoogleSmartCard.disableSelfReloadOnFatalError",function(){Vc=!1});
function Yc(a){(a=gc(a,void 0))||Zc();return a}function $c(a){return Yc(a?`${"GoogleSmartCard"}.${a}`:"GoogleSmartCard")}function Zc(a){a=a?a:"Failure";mc(Rc,a);Uc();throw Error(a);}function S(a,b){a="Failure in "+a.g();void 0!==b?Zc(a+": "+b):Zc(a)}
if(!Xc){Xc=!0;const a=new Hc,b=a.g;b.N=!0;b.O=!1;if(1!=a.h){var ad=M(N(),"").j;hc(ad,a.l);a.h=!0}jc(Rc,Qb);Q(Wc,"Logging was set up with level="+Qb.name+" and enabled logging to JS console");"undefined"===typeof document||"/_generated_background_page.html"===self.location.pathname?(yc(Mc,Rc,Sc()),Nc(),Kc(),Tc()):Qc()};/*

 Copyright 2016 Google Inc.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions
 are met:

 1. Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
 2. Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the
    documentation and/or other materials provided with the distribution.
 3. The name of the author may not be used to endorse or promote products
    derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
 IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
p("GoogleSmartCard.PcscLiteCommon.Constants.SERVER_OFFICIAL_APP_ID","khpfeaanjngmcnplbdlpegiifgpfgdco");String.raw`\\?PnP?\Notification`;var bd=class{constructor(a,b){this.g=a;this.h=b}};function cd(a){a.ba(function(){})};var dd=class{constructor(a,b){this.h=a;this.g=b}},ed=$c("RequesterMessage.ResponseMessageData"),fd=class{constructor(a,b,c){this.i=a;this.h=b;this.g=c;void 0===b||void 0===c||S(ed)}};function gd(a,b){a.j(b);100>a.h&&(a.h++,b.next=a.g,a.g=b)}var hd=class{constructor(a,b){this.i=a;this.j=b;this.h=0;this.g=null}get(){let a;0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i();return a}};class id{constructor(){this.h=this.g=null}add(a,b){const c=jd.get();c.set(a,b);this.h?this.h.next=c:this.g=c;this.h=c}remove(){let a=null;this.g&&(a=this.g,this.g=this.g.next,this.g||(this.h=null),a.next=null);return a}}var jd=new hd(()=>new kd,a=>a.reset());class kd{constructor(){this.next=this.g=this.h=null}set(a,b){this.h=a;this.g=b;this.next=null}reset(){this.next=this.g=this.h=null}};function ld(){var a=document;var b="IFRAME";"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};function md(a,b){var c=a;b&&(c=m(a,b));!(a="function"!==typeof h.setImmediate)&&(a=h.Window&&h.Window.prototype)&&(a=-1==Ha.indexOf("Edge")&&h.Window.prototype.setImmediate==h.setImmediate);a?(nd||=od(),nd(c)):h.setImmediate(c)}var nd;
function od(){var a=h.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==Ha.indexOf("Presto")&&(a=function(){var f=ld();f.style.display="none";document.documentElement.appendChild(f);var g=f.contentWindow;f=g.document;f.open();f.close();var l="callImmediate"+Math.random(),n="file:"==g.location.protocol?"*":g.location.protocol+"//"+g.location.host;f=m(function(w){if(("*"==n||w.origin==n)&&w.data==l)this.port1.onmessage()},this);g.addEventListener("message",
f,!1);this.port1={};this.port2={postMessage:function(){g.postMessage(l,n)}}});if("undefined"!==typeof a&&-1==Ha.indexOf("Trident")&&-1==Ha.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var f=c.X;c.X=null;f()}};return function(f){d.next={X:f};d=d.next;b.port2.postMessage(0)}}return function(f){h.setTimeout(f,0)}};function pd(a){h.setTimeout(()=>{throw a;},0)};function qd(a,b){rd||sd();td||(rd(),td=!0);ud.add(a,b)}var rd;function sd(){if(h.Promise&&h.Promise.resolve){var a=h.Promise.resolve(void 0);rd=function(){a.then(vd)}}else rd=function(){md(vd)}}var td=!1,ud=new id;function vd(){for(var a;a=ud.remove();){try{a.h.call(a.g)}catch(b){pd(b)}gd(jd,a)}td=!1};function T(a,b){this.g=wd;this.o=void 0;this.j=this.h=this.i=null;this.l=this.m=!1;if(a!=aa)try{var c=this;a.call(b,function(d){xd(c,yd,d)},function(d){xd(c,U,d)})}catch(d){xd(this,U,d)}}var wd=0,yd=2,U=3;function zd(){this.next=this.i=this.h=this.l=this.g=null;this.j=!1}zd.prototype.reset=function(){this.i=this.h=this.l=this.g=null;this.j=!1};var Ad=new hd(function(){return new zd},function(a){a.reset()});function Bd(a,b,c){var d=Ad.get();d.l=a;d.h=b;d.i=c;return d}
function Cd(a){return new T(function(b,c){c(a)})}function Dd(a,b,c){Ed(a,b,c,null)||qd(ia(b,a))}function Fd(){var a,b,c=new T(function(d,f){a=d;b=f});return new Gd(c,a,b)}T.prototype.then=function(a,b,c){return Hd(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};T.prototype.$goog_Thenable=!0;e=T.prototype;e.aa=function(a,b){a=Bd(a,a,b);a.j=!0;Id(this,a);return this};e.ba=function(a,b){return Hd(this,null,a,b)};
e.cancel=function(a){if(this.g==wd){var b=new Jd(a);qd(function(){Kd(this,b)},this)}};function Kd(a,b){if(a.g==wd)if(a.i){var c=a.i;if(c.h){for(var d=0,f=null,g=null,l=c.h;l&&(l.j||(d++,l.g==a&&(f=l),!(f&&1<d)));l=l.next)f||(g=l);f&&(c.g==wd&&1==d?Kd(c,b):(g?(d=g,d.next==c.j&&(c.j=d),d.next=d.next.next):Ld(c),Md(c,f,U,b)))}a.i=null}else xd(a,U,b)}function Id(a,b){a.h||a.g!=yd&&a.g!=U||Nd(a);a.j?a.j.next=b:a.h=b;a.j=b}
function Hd(a,b,c,d){var f=Bd(null,null,null);f.g=new T(function(g,l){f.l=b?function(n){try{var w=b.call(d,n);g(w)}catch(D){l(D)}}:g;f.h=c?function(n){try{var w=c.call(d,n);void 0===w&&n instanceof Jd?l(n):g(w)}catch(D){l(D)}}:l});f.g.i=a;Id(a,f);return f.g}e.na=function(a){this.g=wd;xd(this,yd,a)};e.oa=function(a){this.g=wd;xd(this,U,a)};
function xd(a,b,c){a.g==wd&&(a===c&&(b=U,c=new TypeError("Promise cannot resolve to itself")),a.g=1,Ed(c,a.na,a.oa,a)||(a.o=c,a.g=b,a.i=null,Nd(a),b!=U||c instanceof Jd||Od(a,c)))}function Ed(a,b,c,d){if(a instanceof T)return Id(a,Bd(b||aa,c||null,d)),!0;if(a)try{var f=!!a.$goog_Thenable}catch(l){f=!1}else f=!1;if(f)return a.then(b,c,d),!0;if(k(a))try{var g=a.then;if("function"===typeof g)return Pd(a,g,b,c,d),!0}catch(l){return c.call(d,l),!0}return!1}
function Pd(a,b,c,d,f){function g(w){n||(n=!0,d.call(f,w))}function l(w){n||(n=!0,c.call(f,w))}var n=!1;try{b.call(a,l,g)}catch(w){g(w)}}function Nd(a){a.m||(a.m=!0,qd(a.ka,a))}function Ld(a){var b=null;a.h&&(b=a.h,a.h=b.next,b.next=null);a.h||(a.j=null);return b}e.ka=function(){for(var a;a=Ld(this);)Md(this,a,this.g,this.o);this.m=!1};
function Md(a,b,c,d){if(c==U&&b.h&&!b.j)for(;a&&a.l;a=a.i)a.l=!1;if(b.g)b.g.i=null,Qd(b,c,d);else try{b.j?b.l.call(b.i):Qd(b,c,d)}catch(f){Rd.call(null,f)}gd(Ad,b)}function Qd(a,b,c){b==yd?a.l.call(a.i,c):a.h&&a.h.call(a.i,c)}function Od(a,b){a.l=!0;qd(function(){a.l&&Rd.call(null,b)})}var Rd=pd;function Jd(a){t.call(this,a)}q(Jd,t);Jd.prototype.name="cancel";function Gd(a,b,c){this.promise=a;this.h=b;this.g=c};function V(){r.call(this);this.m={}}q(V,r);e=V.prototype;e.A=gc("goog.messaging.AbstractChannel");e.connect=function(a){a&&a()};e.fa=function(){return!0};e.registerService=function(a,b,c){this.m[a]={W:b,Y:!!c}};e.Z=function(a){this.l=a};e.getService=function(a,b){const c=this.m[a];if(c)return c;if(this.l)return{W:ia(this.l,a),Y:k(b)};P(this.A,'Unknown service name "'+a+'"');return null};e.v=function(){V.U.v.call(this);delete this.m;delete this.l};function Sd(a,b,c){Q(a.g,"The request with identifier "+b+" failed: "+c);Td(a,b).g(c)}function Td(a,b){const c=a.i.get(b);void 0!==c||S(a.g);a.i.delete(b);return c}
var Ud=class extends r{constructor(a){super();this.g=$c('Requester<"pcsc_lite_function_call">');this.j=a;this.m=xa();this.i=new Map;this.j.registerService("pcsc_lite_function_call::response",this.o.bind(this),!0);this.j.M(this.l.bind(this))}v(){const a=Array.from(this.i.keys());a.sort(sa);na(a,b=>{isFinite(b)&&(b=String(b));Sd(this,"string"===typeof b?/^\s*-?0x/i.test(b)?parseInt(b,16):parseInt(b,10):NaN,Error("The requester is disposed"))});this.j=this.i=null;Q(this.g,"Disposed");super.v()}l(){this.s||
(nc(this.g,"Message channel was disposed, disposing..."),this.C())}o(a){k(a)||S(this.g);if(!this.s){if(2==Fa(a)&&null!==a&&"request_id"in a&&"number"===typeof a.request_id){var b=a.request_id;a=null!==a&&"payload"in a?new fd(b,a.payload):null!==a&&"error"in a&&"string"===typeof a.error?new fd(b,void 0,a.error):null}else a=null;b=a;null===b&&S(this.g,"Failed to parse the received response message: "+x());a=b.i;this.i.has(a)||S(this.g,"Received a response for unknown request with identifier "+a);if(void 0===
b.g)void 0===b.g||S(ed),b=b.h,Q(this.g,"The request with identifier "+a+" succeeded with the following result: "+x()),Td(this,a).h(b);else{var c=Error;void 0!==b.g||S(ed);"string"===typeof b.g||S(ed);Sd(this,a,c(b.g))}}}};function W(a){r.call(this);this.g=$c("PcscLiteClient.API");this.i=a;this.i.M(this.l.bind(this));this.j=new Ud(this.i);Q(this.g,"Initialized")}q(W,r);p("GoogleSmartCard.PcscLiteClient.API",W);W.MAX_ATR_SIZE=33;var Vd=F(0);W.SCARD_S_SUCCESS=Vd;var Wd=F(2148532225);W.SCARD_F_INTERNAL_ERROR=Wd;var Xd=F(2148532226);W.SCARD_E_CANCELLED=Xd;var Yd=F(2148532227);W.SCARD_E_INVALID_HANDLE=Yd;var Zd=F(2148532228);W.SCARD_E_INVALID_PARAMETER=Zd;var $d=F(2148532229);W.SCARD_E_INVALID_TARGET=$d;var ae=F(2148532230);
W.SCARD_E_NO_MEMORY=ae;var be=F(2148532231);W.SCARD_F_WAITED_TOO_LONG=be;var ce=F(2148532232);W.SCARD_E_INSUFFICIENT_BUFFER=ce;var de=F(2148532233);W.SCARD_E_UNKNOWN_READER=de;var ee=F(2148532234);W.SCARD_E_TIMEOUT=ee;var fe=F(2148532235);W.SCARD_E_SHARING_VIOLATION=fe;var ge=F(2148532236);W.SCARD_E_NO_SMARTCARD=ge;var he=F(2148532237);W.SCARD_E_UNKNOWN_CARD=he;var ie=F(2148532238);W.SCARD_E_CANT_DISPOSE=ie;var je=F(2148532239);W.SCARD_E_PROTO_MISMATCH=je;var ke=F(2148532240);
W.SCARD_E_NOT_READY=ke;var le=F(2148532241);W.SCARD_E_INVALID_VALUE=le;var me=F(2148532242);W.SCARD_E_SYSTEM_CANCELLED=me;var ne=F(2148532243);W.SCARD_F_COMM_ERROR=ne;var oe=F(2148532244);W.SCARD_F_UNKNOWN_ERROR=oe;var pe=F(2148532245);W.SCARD_E_INVALID_ATR=pe;var qe=F(2148532246);W.SCARD_E_NOT_TRANSACTED=qe;var re=F(2148532247);W.SCARD_E_READER_UNAVAILABLE=re;var se=F(2148532248);W.SCARD_P_SHUTDOWN=se;var te=F(2148532249);W.SCARD_E_PCI_TOO_SMALL=te;var ue=F(2148532250);
W.SCARD_E_READER_UNSUPPORTED=ue;var ve=F(2148532251);W.SCARD_E_DUPLICATE_READER=ve;var we=F(2148532252);W.SCARD_E_CARD_UNSUPPORTED=we;var xe=F(2148532253);W.SCARD_E_NO_SERVICE=xe;var ye=F(2148532254);W.SCARD_E_SERVICE_STOPPED=ye;var ze=F(2148532255);W.SCARD_E_UNEXPECTED=ze;var Ae=F(2148532255);W.SCARD_E_UNSUPPORTED_FEATURE=Ae;var Be=F(2148532256);W.SCARD_E_ICC_INSTALLATION=Be;var Ce=F(2148532257);W.SCARD_E_ICC_CREATEORDER=Ce;var De=F(2148532259);W.SCARD_E_DIR_NOT_FOUND=De;var Ee=F(2148532260);
W.SCARD_E_FILE_NOT_FOUND=Ee;var Fe=F(2148532261);W.SCARD_E_NO_DIR=Fe;var Ge=F(2148532262);W.SCARD_E_NO_FILE=Ge;var He=F(2148532263);W.SCARD_E_NO_ACCESS=He;var Ie=F(2148532264);W.SCARD_E_WRITE_TOO_MANY=Ie;var Je=F(2148532265);W.SCARD_E_BAD_SEEK=Je;var Ke=F(2148532266);W.SCARD_E_INVALID_CHV=Ke;var Le=F(2148532267);W.SCARD_E_UNKNOWN_RES_MNG=Le;var Me=F(2148532268);W.SCARD_E_NO_SUCH_CERTIFICATE=Me;var Ne=F(2148532269);W.SCARD_E_CERTIFICATE_UNAVAILABLE=Ne;var Oe=F(2148532270);
W.SCARD_E_NO_READERS_AVAILABLE=Oe;var Pe=F(2148532271);W.SCARD_E_COMM_DATA_LOST=Pe;var Qe=F(2148532272);W.SCARD_E_NO_KEY_CONTAINER=Qe;var Re=F(2148532273);W.SCARD_E_SERVER_TOO_BUSY=Re;var Se=F(2148532325);W.SCARD_W_UNSUPPORTED_CARD=Se;var Te=F(2148532326);W.SCARD_W_UNRESPONSIVE_CARD=Te;var Ue=F(2148532327);W.SCARD_W_UNPOWERED_CARD=Ue;var Ve=F(2148532328);W.SCARD_W_RESET_CARD=Ve;var We=F(2148532329);W.SCARD_W_REMOVED_CARD=We;var Xe=F(2148532330);W.SCARD_W_SECURITY_VIOLATION=Xe;var Ye=F(2148532331);
W.SCARD_W_WRONG_CHV=Ye;var Ze=F(2148532332);W.SCARD_W_CHV_BLOCKED=Ze;var $e=F(2148532333);W.SCARD_W_EOF=$e;var af=F(2148532334);W.SCARD_W_CANCELLED_BY_USER=af;var bf=F(2148532335);W.SCARD_W_CARD_NOT_AUTHENTICATED=bf;var cf=F(4294967295);W.SCARD_AUTOALLOCATE=cf;W.SCARD_SCOPE_USER=0;W.SCARD_SCOPE_TERMINAL=1;W.SCARD_SCOPE_SYSTEM=2;W.SCARD_PROTOCOL_UNDEFINED=0;W.SCARD_PROTOCOL_UNSET=0;W.SCARD_PROTOCOL_T0=1;W.SCARD_PROTOCOL_T1=2;W.SCARD_PROTOCOL_RAW=4;W.SCARD_PROTOCOL_T15=8;W.SCARD_PROTOCOL_ANY=3;
W.SCARD_SHARE_EXCLUSIVE=1;W.SCARD_SHARE_SHARED=2;W.SCARD_SHARE_DIRECT=3;W.SCARD_LEAVE_CARD=0;W.SCARD_RESET_CARD=1;W.SCARD_UNPOWER_CARD=2;W.SCARD_EJECT_CARD=3;W.SCARD_UNKNOWN=1;W.SCARD_ABSENT=2;W.SCARD_PRESENT=4;W.SCARD_SWALLOWED=8;W.SCARD_POWERED=16;W.SCARD_NEGOTIABLE=32;W.SCARD_SPECIFIC=64;W.SCARD_STATE_UNAWARE=0;W.SCARD_STATE_IGNORE=1;W.SCARD_STATE_CHANGED=2;W.SCARD_STATE_UNKNOWN=4;W.SCARD_STATE_UNAVAILABLE=8;W.SCARD_STATE_EMPTY=16;W.SCARD_STATE_PRESENT=32;W.SCARD_STATE_ATRMATCH=64;
W.SCARD_STATE_EXCLUSIVE=128;W.SCARD_STATE_INUSE=256;W.SCARD_STATE_MUTE=512;W.SCARD_STATE_UNPOWERED=1024;W.INFINITE=4294967295;W.PCSCLITE_MAX_READERS_CONTEXTS=16;W.MAX_READERNAME=128;W.SCARD_ATR_LENGTH=33;W.MAX_BUFFER_SIZE=264;W.MAX_BUFFER_SIZE_EXTENDED=65548;W.SCARD_ATTR_VALUE=function(a,b){return a<<16|b};W.SCARD_CLASS_VENDOR_INFO=1;W.SCARD_CLASS_COMMUNICATIONS=2;W.SCARD_CLASS_PROTOCOL=3;W.SCARD_CLASS_POWER_MGMT=4;W.SCARD_CLASS_SECURITY=5;W.SCARD_CLASS_MECHANICAL=6;W.SCARD_CLASS_VENDOR_DEFINED=7;
W.SCARD_CLASS_IFD_PROTOCOL=8;W.SCARD_CLASS_ICC_STATE=9;W.SCARD_CLASS_SYSTEM=32767;W.SCARD_ATTR_VENDOR_NAME=65792;W.SCARD_ATTR_VENDOR_IFD_TYPE=65793;W.SCARD_ATTR_VENDOR_IFD_VERSION=65794;W.SCARD_ATTR_VENDOR_IFD_SERIAL_NO=65795;W.SCARD_ATTR_CHANNEL_ID=131344;W.SCARD_ATTR_ASYNC_PROTOCOL_TYPES=196896;W.SCARD_ATTR_DEFAULT_CLK=196897;W.SCARD_ATTR_MAX_CLK=196898;W.SCARD_ATTR_DEFAULT_DATA_RATE=196899;W.SCARD_ATTR_MAX_DATA_RATE=196900;W.SCARD_ATTR_MAX_IFSD=196901;W.SCARD_ATTR_SYNC_PROTOCOL_TYPES=196902;
W.SCARD_ATTR_POWER_MGMT_SUPPORT=262449;W.SCARD_ATTR_USER_TO_CARD_AUTH_DEVICE=328E3;W.SCARD_ATTR_USER_AUTH_INPUT_DEVICE=328002;W.SCARD_ATTR_CHARACTERISTICS=393552;W.SCARD_ATTR_CURRENT_PROTOCOL_TYPE=524801;W.SCARD_ATTR_CURRENT_CLK=524802;W.SCARD_ATTR_CURRENT_F=524803;W.SCARD_ATTR_CURRENT_D=524804;W.SCARD_ATTR_CURRENT_N=524805;W.SCARD_ATTR_CURRENT_W=524806;W.SCARD_ATTR_CURRENT_IFSC=524807;W.SCARD_ATTR_CURRENT_IFSD=524808;W.SCARD_ATTR_CURRENT_BWT=524809;W.SCARD_ATTR_CURRENT_CWT=524810;
W.SCARD_ATTR_CURRENT_EBC_ENCODING=524811;W.SCARD_ATTR_EXTENDED_BWT=524812;W.SCARD_ATTR_ICC_PRESENCE=590592;W.SCARD_ATTR_ICC_INTERFACE_STATUS=590593;W.SCARD_ATTR_CURRENT_IO_STATE=590594;W.SCARD_ATTR_ATR_STRING=590595;W.SCARD_ATTR_ICC_TYPE_PER_ATR=590596;W.SCARD_ATTR_ESC_RESET=499712;W.SCARD_ATTR_ESC_CANCEL=499715;W.SCARD_ATTR_ESC_AUTHREQUEST=499717;W.SCARD_ATTR_MAXINPUT=499719;W.SCARD_ATTR_DEVICE_UNIT=2147418113;W.SCARD_ATTR_DEVICE_IN_USE=2147418114;W.SCARD_ATTR_DEVICE_FRIENDLY_NAME_A=2147418115;
W.SCARD_ATTR_DEVICE_SYSTEM_NAME_A=2147418116;W.SCARD_ATTR_DEVICE_FRIENDLY_NAME_W=2147418117;W.SCARD_ATTR_DEVICE_SYSTEM_NAME_W=2147418118;W.SCARD_ATTR_SUPRESS_T1_IFS_REQUEST=2147418119;W.SCARD_ATTR_DEVICE_FRIENDLY_NAME=2147418117;W.SCARD_ATTR_DEVICE_SYSTEM_NAME=2147418118;function df(a){return F(1107296256)+a}W.SCARD_CTL_CODE=df;var ef=df(3400);W.CM_IOCTL_GET_FEATURE_REQUEST=ef;W.FEATURE_VERIFY_PIN_START=1;W.FEATURE_VERIFY_PIN_FINISH=2;W.FEATURE_MODIFY_PIN_START=3;W.FEATURE_MODIFY_PIN_FINISH=4;
W.FEATURE_GET_KEY_PRESSED=5;W.FEATURE_VERIFY_PIN_DIRECT=6;W.FEATURE_MODIFY_PIN_DIRECT=7;W.FEATURE_MCT_READER_DIRECT=8;W.FEATURE_MCT_UNIVERSAL=9;W.FEATURE_IFD_PIN_PROPERTIES=10;W.FEATURE_ABORT=11;W.FEATURE_SET_SPE_MESSAGE=12;W.FEATURE_VERIFY_PIN_DIRECT_APP_ID=13;W.FEATURE_MODIFY_PIN_DIRECT_APP_ID=14;W.FEATURE_WRITE_DISPLAY=15;W.FEATURE_GET_KEY=16;W.FEATURE_IFD_DISPLAY_PROPERTIES=17;W.FEATURE_GET_TLV_PROPERTIES=18;W.FEATURE_CCID_ESC_COMMAND=19;W.FEATURE_EXECUTE_PACE=32;
W.PCSCv2_PART10_PROPERTY_wLcdLayout=1;W.PCSCv2_PART10_PROPERTY_bEntryValidationCondition=2;W.PCSCv2_PART10_PROPERTY_bTimeOut2=3;W.PCSCv2_PART10_PROPERTY_wLcdMaxCharacters=4;W.PCSCv2_PART10_PROPERTY_wLcdMaxLines=5;W.PCSCv2_PART10_PROPERTY_bMinPINSize=6;W.PCSCv2_PART10_PROPERTY_bMaxPINSize=7;W.PCSCv2_PART10_PROPERTY_sFirmwareID=8;W.PCSCv2_PART10_PROPERTY_bPPDUSupport=9;W.PCSCv2_PART10_PROPERTY_dwMaxAPDUDataSize=10;W.PCSCv2_PART10_PROPERTY_wIdVendor=11;W.PCSCv2_PART10_PROPERTY_wIdProduct=12;
function ff(a){this.protocol=a}W.SCARD_IO_REQUEST=ff;W.SCARD_PCI_T0=new ff(1);W.SCARD_PCI_T1=new ff(2);W.SCARD_PCI_RAW=new ff(4);W.SCARD_READERSTATE_IN=function(a,b,c){this.reader_name=a;this.current_state=b;void 0!==c&&(this.user_data=c)};W.SCARD_READERSTATE_OUT=function(a,b,c,d,f){this.reader_name=a;this.current_state=b;this.event_state=c;this.atr=d;void 0!==f&&(this.user_data=f)};function X(a){1<=a.length||S(this.l);this.i=a[0];this.h=this.j()?ra(a,1):void 0}W.ResultOrErrorCode=X;
X.prototype.l=$c("PcscLiteClient.API.ResultOrErrorCode");X.prototype.g=function(a,b,c,d){this.j()?(this.h.length==a||S(this.l),b&&b.apply(d,this.h)):c&&c.apply(d,[this.i])};X.prototype.getBase=X.prototype.g;X.prototype.o=function(){return this.i};X.prototype.getErrorCode=X.prototype.o;X.prototype.j=function(){return this.i==Vd};X.prototype.isSuccessful=X.prototype.j;X.prototype.u=function(){this.j()||S(this.l);void 0!==this.h||S(this.l);return this.h};X.prototype.getResult=X.prototype.u;
X.prototype.m=function(){if(this.i==Vd)var a="SCARD_S_SUCCESS"+(this.h&&this.h.length?" "+x():"");else{{const b=new WeakSet;try{a=La(this.i,b)}catch(c){a="<failed to dump the value>"}}a="error "+a}return a};X.prototype.getDebugRepresentation=X.prototype.m;W.prototype.ja=function(a){const b=this.g;return Y(this,"pcsc_stringify_error",[a],function(c){1==c.length||S(b);"string"===typeof c[0]||S(b);return c[0]})};W.prototype.pcsc_stringify_error=W.prototype.ja;
W.prototype.I=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);return Y(this,"SCardEstablishContext",[a,b,c],function(d){return new gf(d)})};W.prototype.SCardEstablishContext=W.prototype.I;function gf(a){X.call(this,a)}q(gf,X);W.SCardEstablishContextResult=gf;gf.prototype.get=function(a,b,c){this.g(1,a,b,c)};gf.prototype.get=gf.prototype.get;W.prototype.ea=function(a){return Y(this,"SCardReleaseContext",[a],function(b){return new hf(b)})};W.prototype.SCardReleaseContext=W.prototype.ea;
function hf(a){X.call(this,a)}q(hf,X);W.SCardReleaseContextResult=hf;hf.prototype.get=function(a,b,c){this.g(0,a,b,c)};hf.prototype.get=hf.prototype.get;W.prototype.u=function(a,b,c,d){return Y(this,"SCardConnect",[a,b,c,d],function(f){return new jf(f)})};W.prototype.SCardConnect=W.prototype.u;function jf(a){jf.B(this,"constructor",a)}W.SCardConnectResult=jf;q(jf,X);jf.prototype.get=function(a,b,c){this.g(2,a,b,c)};jf.prototype.get=jf.prototype.get;
W.prototype.da=function(a,b,c,d){return Y(this,"SCardReconnect",[a,b,c,d],function(f){return new kf(f)})};W.prototype.SCardReconnect=W.prototype.da;function kf(a){kf.B(this,"constructor",a)}W.SCardReconnectResult=kf;q(kf,X);kf.prototype.get=function(a,b,c){this.g(1,a,b,c)};kf.prototype.get=kf.prototype.get;W.prototype.G=function(a,b){return Y(this,"SCardDisconnect",[a,b],function(c){return new lf(c)})};W.prototype.SCardDisconnect=W.prototype.G;function lf(a){lf.B(this,"constructor",a)}
W.SCardDisconnectResult=lf;q(lf,X);lf.prototype.get=function(a,b,c){this.g(0,a,b,c)};lf.prototype.get=lf.prototype.get;W.prototype.m=function(a){return Y(this,"SCardBeginTransaction",[a],function(b){return new mf(b)})};W.prototype.SCardBeginTransaction=W.prototype.m;function mf(a){mf.B(this,"constructor",a)}W.SCardBeginTransactionResult=mf;q(mf,X);mf.prototype.get=function(a,b,c){this.g(0,a,b,c)};mf.prototype.get=mf.prototype.get;
W.prototype.F=function(a,b){return Y(this,"SCardEndTransaction",[a,b],function(c){return new nf(c)})};W.prototype.SCardEndTransaction=W.prototype.F;function nf(a){nf.B(this,"constructor",a)}W.SCardEndTransactionResult=nf;q(nf,X);nf.prototype.get=function(a,b,c){this.g(0,a,b,c)};nf.prototype.get=nf.prototype.get;W.prototype.ha=function(a){return Y(this,"SCardStatus",[a],function(b){return new of(b)})};W.prototype.SCardStatus=W.prototype.ha;function of(a){of.B(this,"constructor",a)}
W.SCardStatusResult=of;q(of,X);of.prototype.get=function(a,b,c){this.g(4,a,b,c)};of.prototype.get=of.prototype.get;W.prototype.P=function(a,b,c){return Y(this,"SCardGetStatusChange",[a,b,c],function(d){return new pf(d)})};W.prototype.SCardGetStatusChange=W.prototype.P;function pf(a){pf.B(this,"constructor",a)}W.SCardGetStatusChangeResult=pf;q(pf,X);pf.prototype.get=function(a,b,c){this.g(1,a,b,c)};pf.prototype.get=pf.prototype.get;
W.prototype.D=function(a,b,c){return Y(this,"SCardControl",[a,b,c],function(d){return new qf(d)})};W.prototype.SCardControl=W.prototype.D;function qf(a){qf.B(this,"constructor",a)}W.SCardControlResult=qf;q(qf,X);qf.prototype.get=function(a,b,c){this.g(1,a,b,c)};qf.prototype.get=qf.prototype.get;W.prototype.L=function(a,b){return Y(this,"SCardGetAttrib",[a,b],function(c){return new rf(c)})};W.prototype.SCardGetAttrib=W.prototype.L;function rf(a){rf.B(this,"constructor",a)}W.SCardGetAttribResult=rf;
q(rf,X);rf.prototype.get=function(a,b,c){this.g(1,a,b,c)};rf.prototype.get=rf.prototype.get;W.prototype.ga=function(a,b,c){return Y(this,"SCardSetAttrib",[a,b,c],function(d){return new sf(d)})};W.prototype.SCardSetAttrib=W.prototype.ga;function sf(a){sf.B(this,"constructor",a)}W.SCardSetAttribResult=sf;q(sf,X);sf.prototype.get=function(a,b,c){this.g(0,a,b,c)};sf.prototype.get=sf.prototype.get;W.prototype.ia=function(a,b,c,d){return Y(this,"SCardTransmit",[a,b,c,d],function(f){return new tf(f)})};
W.prototype.SCardTransmit=W.prototype.ia;function tf(a){tf.B(this,"constructor",a)}W.SCardTransmitResult=tf;q(tf,X);tf.prototype.get=function(a,b,c){this.g(2,a,b,c)};tf.prototype.get=tf.prototype.get;W.prototype.ca=function(a,b){return Y(this,"SCardListReaders",[a,b],function(c){return new uf(c)})};W.prototype.SCardListReaders=W.prototype.ca;function uf(a){uf.B(this,"constructor",a)}W.SCardListReadersResult=uf;q(uf,X);uf.prototype.get=function(a,b,c){this.g(1,a,b,c)};uf.prototype.get=uf.prototype.get;
W.prototype.S=function(a){return Y(this,"SCardListReaderGroups",[a],function(b){return new vf(b)})};W.prototype.SCardListReaderGroups=W.prototype.S;function vf(a){vf.B(this,"constructor",a)}W.SCardListReaderGroupsResult=vf;q(vf,X);vf.prototype.get=function(a,b,c){this.g(1,a,b,c)};vf.prototype.get=vf.prototype.get;W.prototype.o=function(a){return Y(this,"SCardCancel",[a],function(b){return new wf(b)})};W.prototype.SCardCancel=W.prototype.o;function wf(a){wf.B(this,"constructor",a)}
W.SCardCancelResult=wf;q(wf,X);wf.prototype.get=function(a,b,c){this.g(0,a,b,c)};wf.prototype.get=wf.prototype.get;W.prototype.R=function(a){return Y(this,"SCardIsValidContext",[a],function(b){return new xf(b)})};W.prototype.SCardIsValidContext=W.prototype.R;function xf(a){xf.B(this,"constructor",a)}W.SCardIsValidContextResult=xf;q(xf,X);xf.prototype.get=function(a,b,c){this.g(0,a,b,c)};xf.prototype.get=xf.prototype.get;W.prototype.v=function(){this.j.C();this.i=this.j=null;Q(this.g,"Disposed");W.U.v.call(this)};
W.prototype.l=function(){this.s||(nc(this.g,"Message channel was disposed, disposing..."),this.C())};
function Y(a,b,c,d){if(a.s)return Cd(Error("The API instance is already disposed"));b=new bd(b,c);var f={function_name:b.g,arguments:b.h};a=a.j;b=a.m.next();Q(a.g,"Starting a request with identifier "+b+", the payload is: "+x());c=Fd();cd(c.promise);if(a.s)c.g(Error("The requester is already disposed"));else{var g=a.g;!a.i.has(b)||S(g);a.i.set(b,c);f=new dd(b,f);f={request_id:f.h,payload:f.g};try{a.j.send("pcsc_lite_function_call::request",f)}catch(l){a.s||Sd(a,b,l)}}a=c.promise;return a.then(d)}
;/*

 Copyright 2018 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function yf(a){if(a instanceof ArrayBuffer)a=Array.from(new Uint8Array(a));else if(a instanceof DataView)a=Array.from(new Uint8Array(a.buffer,a.byteOffset,a.byteLength));else if(Array.isArray(a))a=a.map(yf);else if(k(a)&&"function"!==typeof a&&!ArrayBuffer.isView(a)){var b=yf;const c={};for(const d in a)c[d]=b.call(void 0,a[d],d,a);a=c}return a};function zf(a,b,c){if("function"===typeof a)c&&(a=m(a,c));else if(a&&"function"==typeof a.handleEvent)a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(a,b||0)};var Af=function(){const a=new Uint8Array(6);globalThis.crypto.getRandomValues(a);let b=0;na(a,function(c){b=256*b+c});return b}();function Bf(a){null===a.i||S(a.g);a.i=zf(a.D.bind(a),6E5,a)}function Cf(a){null!==a.i&&(h.clearTimeout(a.i),a.i=null)}function Df(a){Q(a.g,"Disposing the message channel and self");a.j.C();a.C()}
var Ef=class extends r{constructor(a,b,c){super();this.g=Yc(b.g()+".Pinger");this.j=a;this.j.registerService("pong",this.u.bind(this),!0);this.l=void 0!==c?c:null;this.i=this.m=null;Bf(this);md(this.o,this)}v(){Cf(this);this.j=this.l=null;Q(this.g,"Disposed");super.v()}u(a){k(a)||S(this.g);this.s||(null!==a&&"channel_id"in a?(a=a.channel_id,"number"!==typeof a?(P(this.g,"Received pong message has wrong format: channel id is not a number. Disposing..."),Df(this)):null===this.m?(Q(this.g,"Received the first pong response (remote channel id is "+
a+"). The message channel is considered established"),this.m=a,this.l&&(this.l(),this.l=null)):this.m==a?(O(this.g,J,"Received a pong response with the correct channel id, so the remote end considered alive"),Cf(this),Bf(this)):(P(this.g,"Received a pong response with a channel id different from the expected one (expected "+this.m+", received "+a+"). Disposing..."),Df(this))):(P(this.g,'Received pong message has wrong format: no "channel_id" field is present. Disposing...'),Df(this)))}o(){this.s||
(O(this.g,J,"Sending a ping request..."),this.j.send("ping",{}));this.s||zf(this.o,1E4,this)}D(){this.s||(P(this.g,"No pong response received in time, the remote end is dead. Disposing..."),Df(this))}},Ff=class extends r{constructor(a,b){super();this.g=Yc(b.g()+".PingResponder");this.i=a;this.i.registerService("ping",this.l.bind(this),!0);this.j=void 0;Q(this.g,"Initialized (generated channel id is "+Af+")")}l(){if(!this.s){O(this.g,J,"Received a ping request, sending pong response...");var a=this.i;
a.send.call(a,"pong",{channel_id:Af});this.j&&this.j()}}v(){this.j=this.i=null;Q(this.g,"Disposed");super.v()}};/*

 Copyright 2021 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Gf=$c("MessagingOrigin");function Hf(a){if(!a)return null;if(a.id)return a=a.id,32===a.length&&a.match(/[a-p]/i)||S(Gf),`${"chrome-extension:"}//${a}`;if(a.url){let b;try{b=new URL(a.url)}catch(c){return null}return b.origin}return null};var If=class{constructor(a,b){this.type=a;this.data=b}};var Jf=class extends V{constructor(a,b){super();this.g=a;this.o=Hf(a.sender);this.A=$c('PortMessageChannel<"'+a.name+'"'+(null===this.o?"":', sender="'+this.o+'"')+">");this.i=this.F.bind(this);this.g.onDisconnect.addListener(this.i);this.j=this.I.bind(this);this.g.onMessage.addListener(this.j);this.Z(this.G.bind(this));this.u=new Ff(this,this.A);this.D=new Ef(this,this.A,b);Q(this.A,"Initialized successfully")}send(a,b){k(b)||S(this.A);b=yf(b);a=new If(a,b);a={type:a.type,data:a.data};O(this.A,J,
"Posting a message: "+x());this.s&&S(this.A,"Failed to post message: the channel is already disposed");try{this.g.postMessage(a)}catch(c){this.C(),S(this.A,"Failed to post message: "+c)}}v(){this.D.C();this.D=null;this.u.C();this.u=null;this.g.onMessage.removeListener(this.j);this.j=null;this.g.onDisconnect.removeListener(this.i);this.i=null;this.g.disconnect();this.g=null;Q(this.A,"Disposed");super.v()}F(){let a="";chrome.runtime&&chrome.runtime.lastError&&chrome.runtime.lastError.message&&(a=` due to '${chrome.runtime.lastError.message}'`);
nc(this.A,`Message port was disconnected${a}, disposing...`);this.C()}I(a){O(this.A,J,"Received a message: "+x());var b;(b=k(a)&&2==Fa(a)&&null!==a&&"type"in a&&"string"===typeof a.type&&null!==a&&"data"in a&&k(a.data)?new If(a.type,a.data):null)||S(this.A,"Failed to parse the received message: "+x());a=b.type;var c=b.data;if(b=this.getService(a,c)){a:{var d=b.Y;if(d&&"string"===typeof c)try{var f=JSON.parse(c);break a}catch(g){P(this.A,"Expected JSON payload for "+a+', was "'+c+'"');f=null;break a}else if(!d&&
"string"!==typeof c){f=ya(c);break a}f=c}null!=f&&b.W(f)}}G(a){S(this.A,'Unhandled message received: serviceName="'+a+'", payload='+x())}};function Z(a,b){r.call(this);this.j=null;this.o=a;this.l=void 0;void 0===b?this.l="khpfeaanjngmcnplbdlpegiifgpfgdco":null!==b&&(this.l=b);this.g=null;this.m=[];Q(this.i,"Constructed")}q(Z,r);p("GoogleSmartCard.PcscLiteClient.Context",Z);Z.prototype.i=$c("PcscLiteClient.Context");Z.prototype.logger=Z.prototype.i;
Z.prototype.D=function(a){void 0!==a?(this.g=a,md(this.u,this)):(Q(this.i,"Opening a connection to the server app "+(void 0!==this.l?'(extension id is "'+this.l+'")':"(which is the own app)")+"..."),a={name:this.o},a=void 0!==this.l?chrome.runtime.connect(this.l,a):chrome.runtime.connect(a),this.g=new Jf(a,this.u.bind(this)));this.g.M(this.G.bind(this))};Z.prototype.initialize=Z.prototype.D;Z.prototype.F=function(a){null!==this.j?a(this.j):this.m.push(a)};Z.prototype.addOnInitializedCallback=Z.prototype.F;
Z.prototype.addOnDisposeCallback=Z.prototype.M;Z.prototype.I=function(){return this.j};Z.prototype.getApi=Z.prototype.I;Z.prototype.L=function(){return this.o};Z.prototype.getClientTitle=Z.prototype.L;Z.prototype.v=function(){this.j&&(this.j.C(),this.j=null);this.g&&(this.g.C(),this.g=null);Q(this.i,"Disposed");Z.U.v.call(this)};
Z.prototype.u=function(){if(!this.s&&!this.g.s){Q(this.i,"Message channel was established successfully");null===this.j||S(this.i);null!==this.g||S(this.i);var a=new W(this.g);this.j=a;na(this.m,function(b){b(a)});this.m=[]}};Z.prototype.G=function(){Q(this.i,"Message channel was disposed, disposing...");this.C()};p("goog.log.getLogger",gc);p("goog.log.addHandler",hc);p("goog.log.removeHandler",ic);p("goog.log.log",O);p("goog.log.error",mc);p("goog.log.warning",P);p("goog.log.info",nc);p("goog.log.fine",Q);p("goog.log.ROOT_LOGGER_NAME","");p("goog.log.addHandler",hc);p("goog.log.removeHandler",ic);p("goog.log.setLevel",jc);p("goog.log.getLevel",function(a){return a?M(N(),a.g()).g:null});p("goog.log.getEffectiveLevel",kc);p("goog.log.isLoggable",lc);p("goog.log.log",O);
p("goog.log.getLogRecord",function(a,b,c,d){ac||=new $b;a=new L(b||I,c,a.g());d&&a.m(d);return a});p("goog.log.warning",P);p("goog.log.info",nc);p("goog.log.fine",Q);p("goog.log.LogRecord",L);L.prototype.reset=L.prototype.reset;L.prototype.getLoggerName=L.prototype.G;L.prototype.getException=L.prototype.u;L.prototype.setException=L.prototype.m;L.prototype.setLoggerName=L.prototype.P;L.prototype.getLevel=L.prototype.D;L.prototype.setLevel=L.prototype.L;L.prototype.getMessage=L.prototype.getMessage;
L.prototype.setMessage=L.prototype.R;L.prototype.getMillis=L.prototype.F;L.prototype.setMillis=L.prototype.S;L.prototype.getSequenceNumber=L.prototype.I;p("goog.log.Level",H);H.OFF=I;H.SHOUT=Nb;H.SEVERE=Ob;H.WARNING=Pb;H.INFO=Qb;H.CONFIG=Rb;H.FINE=Sb;H.FINER=Tb;H.FINEST=J;H.ALL=Ub;H.PREDEFINED_LEVELS=Vb;H.getPredefinedLevel=Yb;H.getPredefinedLevelByValue=function(a){K||Xb();if(a in K)return K[a];for(let b=0;b<Vb.length;++b){let c=Vb[b];if(c.value<=a)return c}return null};H.getPredefinedLevel=Yb;
H.getPredefinedLevel=Yb;H.prototype.toString=H.prototype.toString;p("goog.log.Logger",Zb);Zb.Level=H;Zb.prototype.g.Level=Zb.prototype.g;p("goog.Promise",T);T.resolve=function(a){if(a instanceof T)return a;var b=new T(aa);xd(b,yd,a);return b};T.reject=Cd;T.race=function(a){return new T(function(b,c){a.length||b(void 0);for(var d=0,f;d<a.length;d++)f=a[d],Dd(f,b,c)})};
T.all=function(a){return new T(function(b,c){var d=a.length,f=[];if(d)for(var g=function(D,Wb){d--;f[D]=Wb;0==d&&b(f)},l=function(D){c(D)},n=0,w;n<a.length;n++)w=a[n],Dd(w,ia(g,n),l);else b(f)})};T.allSettled=function(a){return new T(function(b){var c=a.length,d=[];if(c)for(var f=function(n,w,D){c--;d[n]=w?{la:!0,value:D}:{la:!1,reason:D};0==c&&b(d)},g=0,l;g<a.length;g++)l=a[g],Dd(l,ia(f,g,!0),ia(f,g,!1));else b(d)})};
T.firstFulfilled=function(a){return new T(function(b,c){var d=a.length,f=[];if(d)for(var g=function(D){b(D)},l=function(D,Wb){d--;f[D]=Wb;0==d&&c(f)},n=0,w;n<a.length;n++)w=a[n],Dd(w,g,ia(l,n));else b(void 0)})};T.withResolver=Fd;T.setUnhandledRejectionHandler=function(a){Rd=a};T.CancellationError=Jd;T.prototype.then=T.prototype.then;T.prototype.thenAlways=T.prototype.aa;T.prototype.thenCatch=T.prototype.ba;T.prototype.cancel=T.prototype.cancel;T.prototype.thenAlways=T.prototype.aa;
p("goog.Disposable",r);r.prototype.isDisposed=r.prototype.ma;r.prototype.dispose=r.prototype.C;r.prototype.addOnDisposeCallback=r.prototype.M;p("goog.messaging.AbstractChannel",V);V.prototype.connect=V.prototype.connect;V.prototype.isConnected=V.prototype.fa;V.prototype.registerService=V.prototype.registerService;V.prototype.registerDefaultService=V.prototype.Z;V.prototype.send=V.prototype.send;})();
